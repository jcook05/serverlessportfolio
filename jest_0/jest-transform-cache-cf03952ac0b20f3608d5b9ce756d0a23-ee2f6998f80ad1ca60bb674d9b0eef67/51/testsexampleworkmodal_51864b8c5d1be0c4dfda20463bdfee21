3c285bf02bd8fffcd23386d7e9801b10
"use strict";

var _react = _interopRequireDefault(require("react"));

var _enzymeAdapterReact = _interopRequireDefault(require("enzyme-adapter-react-16"));

var _enzyme = require("enzyme");

var _exampleWorkModal = _interopRequireDefault(require("../js/example-work-modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

(0, _enzyme.configure)({
  adapter: new _enzymeAdapterReact["default"]()
});
var myWork = [{
  title: "Configuration Management",
  key: "cm",
  desc: "Configuration Management examples",
  href: "../codesample.html",
  github: "https://github.com/jcook05/ansible",
  image: {
    desc: "Configuration Management examples",
    src: "images/IMG_0111.JPG"
  },
  diagram: {
    desc: "DIAGRAM:",
    image: ""
  }
}, {
  title: "CICD",
  key: "cicd",
  desc: "CICD example code, Jenkins build and deploy",
  href: "../codesample.html",
  github: "../comingsoon.html",
  image: {
    desc: "Continuous Integration Continuous Deployment examples",
    src: "images/IMG_0117.JPG"
  },
  diagram: {
    desc: "DIAGRAM:  Jenkins Docker Kubernetes Dev Environment",
    image: {
      src: "images/jendk.jpg",
      desc: "CICD example code, Jenkins build and deploy"
    }
  }
}, {
  title: "Front End",
  key: "frontend",
  desc: "Here are some front end development examples.  I have some examples in react.js as well as some examples in standard javascript.   This portfolio is also written primarily in \
     react.js leveraging several react components.  Typically my front end development would focus on internal tools used by the development teams for infrastructure and CICD. You can view the \
     basic examples in the CHECK IT OUT and GIT HUB EXAMPLES links above.",
  href: "../codesample.html",
  github: "https://github.com/jcook05/serverlessportfolio",
  image: {
    desc: "Front End Example Code",
    src: "images/marmot.JPG"
  },
  diagram: {
    desc: "DIAGRAM: Serverless CICD for this Portfolio",
    image: {
      src: "images/newport.jpg",
      desc: "Portfolio CICD Diagram"
    }
  }
}]; // ensure versions of adapter match your react-dom and react-test-renderer.   enzyme-adapter-react-16 for version 16 of react-dom and test-renderer.

describe("ExampleWorkModal tests", function () {
  var mockCloseModalFn = jest.fn();
  var modal = (0, _enzyme.shallow)(_react["default"].createElement(_exampleWorkModal["default"], {
    example: myWork[1],
    open: false
  }));
  var openModal = (0, _enzyme.shallow)(_react["default"].createElement(_exampleWorkModal["default"], {
    example: myWork[1],
    open: open,
    closeModal: mockCloseModalFn
  }));
  var anchors = modal.find("a");
  var paragraphs = modal.find("p");
  var header2 = modal.find("h2");
  var images = modal.find("img");
  it("Should be a 'div' element", function () {
    //console.log(ework.debug());
    expect(modal.type()).toEqual('div');
  });
  it("open set correctly", function () {
    //console.log(ework.debug());
    expect(modal.find(".background--skyBlue").hasClass("modal--closed")).toBe(true);
    expect(openModal.find(".background--skyBlue").hasClass("modal--open")).toBe(true);
  });
  it("Should call closeModal on click", function () {
    // used just 1 class from className="color--cloud modal__closeButton"
    openModal.find(".modal__closeButton").simulate('click');
    expect(mockCloseModalFn).toHaveBeenCalled();
  });
  it("Should contain an a element", function () {
    //console.log(ework.debug());
    expect(anchors.length).toEqual(2);
  });
  it("Link set correctly", function () {
    //console.log(ework.debug());
    // This is deprecated as node is now hidden by Enzyme
    //expect(images.node.props.src).toEqual(myWork[0].image.src);
    // use get() instead to get by index
    expect(anchors.get(0).props.href).toEqual(myWork[1].href + "?" + myWork[1].key);
  });
  it("Github set correctly", function () {
    expect(anchors.get(1).props.href).toEqual(myWork[1].github);
  });
  it("Desc set correctly", function () {
    paragraphs.forEach(function (node) {
      console.log(node.text());
    }); // view props

    console.log(paragraphs.get(0).props); // used props.children

    expect(paragraphs.get(0).props.children).toEqual(myWork[1].gdesc);
  });
  it("Desc set correctly", function () {
    paragraphs.forEach(function (node) {
      console.log(node.text());
    }); // view props

    console.log(paragraphs.get(0).props); // used props.children

    expect(paragraphs.get(1).props.children).toEqual(myWork[1].desc);
  });
  it("Desc set correctly", function () {
    // view props
    console.log(paragraphs.get(1).props); // used props.children

    expect(paragraphs.get(2).props.children).toEqual(myWork[1].diagram.desc);
  });
  it("Title set correctly", function () {
    //use childAt for text;
    expect(header2.childAt(0).text()).toEqual(myWork[1].title);
  });
  it("Image Description set correctly", function () {
    //use childAt for text;
    expect(images.get(0).props.alt).toEqual(myWork[1].image.desc);
  });
  it("Image Source set correctly", function () {
    //use childAt for text;
    expect(images.get(0).props.src).toEqual(myWork[1].image.src);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3RzLWV4YW1wbGUtd29yay1tb2RhbC5qcyJdLCJuYW1lcyI6WyJhZGFwdGVyIiwiQWRhcHRlciIsIm15V29yayIsInRpdGxlIiwia2V5IiwiZGVzYyIsImhyZWYiLCJnaXRodWIiLCJpbWFnZSIsInNyYyIsImRpYWdyYW0iLCJkZXNjcmliZSIsIm1vY2tDbG9zZU1vZGFsRm4iLCJqZXN0IiwiZm4iLCJtb2RhbCIsIm9wZW5Nb2RhbCIsIm9wZW4iLCJhbmNob3JzIiwiZmluZCIsInBhcmFncmFwaHMiLCJoZWFkZXIyIiwiaW1hZ2VzIiwiaXQiLCJleHBlY3QiLCJ0eXBlIiwidG9FcXVhbCIsImhhc0NsYXNzIiwidG9CZSIsInNpbXVsYXRlIiwidG9IYXZlQmVlbkNhbGxlZCIsImxlbmd0aCIsImdldCIsInByb3BzIiwiZm9yRWFjaCIsIm5vZGUiLCJjb25zb2xlIiwibG9nIiwidGV4dCIsImNoaWxkcmVuIiwiZ2Rlc2MiLCJjaGlsZEF0IiwiYWx0Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUVBOzs7O0FBSUEsdUJBQVU7QUFBRUEsRUFBQUEsT0FBTyxFQUFFLElBQUlDLDhCQUFKO0FBQVgsQ0FBVjtBQUdBLElBQU1DLE1BQU0sR0FBRyxDQUVYO0FBQ0tDLEVBQUFBLEtBQUssRUFBRSwwQkFEWjtBQUVLQyxFQUFBQSxHQUFHLEVBQUUsSUFGVjtBQUdLQyxFQUFBQSxJQUFJLEVBQUUsbUNBSFg7QUFJS0MsRUFBQUEsSUFBSSxFQUFFLG9CQUpYO0FBS0tDLEVBQUFBLE1BQU0sRUFBRSxvQ0FMYjtBQU1LQyxFQUFBQSxLQUFLLEVBQUU7QUFDSEgsSUFBQUEsSUFBSSxFQUFFLG1DQURIO0FBRUhJLElBQUFBLEdBQUcsRUFBRTtBQUZGLEdBTlo7QUFXSUMsRUFBQUEsT0FBTyxFQUFFO0FBQ1JMLElBQUFBLElBQUksRUFBRSxVQURFO0FBRVJHLElBQUFBLEtBQUssRUFBRTtBQUZDO0FBWGIsQ0FGVyxFQW1CWjtBQUNFTCxFQUFBQSxLQUFLLEVBQUUsTUFEVDtBQUVFQyxFQUFBQSxHQUFHLEVBQUUsTUFGUDtBQUdFQyxFQUFBQSxJQUFJLEVBQUUsNkNBSFI7QUFJRUMsRUFBQUEsSUFBSSxFQUFFLG9CQUpSO0FBS0VDLEVBQUFBLE1BQU0sRUFBRSxvQkFMVjtBQU1FQyxFQUFBQSxLQUFLLEVBQUU7QUFDSEgsSUFBQUEsSUFBSSxFQUFFLHVEQURIO0FBRUhJLElBQUFBLEdBQUcsRUFBRTtBQUZGLEdBTlQ7QUFXQ0MsRUFBQUEsT0FBTyxFQUFFO0FBQ1JMLElBQUFBLElBQUksRUFBRSxxREFERTtBQUVSRyxJQUFBQSxLQUFLLEVBQUU7QUFDSEMsTUFBQUEsR0FBRyxFQUFFLGtCQURGO0FBRUhKLE1BQUFBLElBQUksRUFBRTtBQUZIO0FBRkM7QUFYVixDQW5CWSxFQXVDZDtBQUNJRixFQUFBQSxLQUFLLEVBQUUsV0FEWDtBQUVJQyxFQUFBQSxHQUFHLEVBQUUsVUFGVDtBQUdJQyxFQUFBQSxJQUFJLEVBQUU7OzBFQUhWO0FBTUlDLEVBQUFBLElBQUksRUFBRSxvQkFOVjtBQU9JQyxFQUFBQSxNQUFNLEVBQUUsZ0RBUFo7QUFRSUMsRUFBQUEsS0FBSyxFQUFFO0FBQ0hILElBQUFBLElBQUksRUFBRSx3QkFESDtBQUVISSxJQUFBQSxHQUFHLEVBQUU7QUFGRixHQVJYO0FBY0dDLEVBQUFBLE9BQU8sRUFBRTtBQUNKTCxJQUFBQSxJQUFJLEVBQUUsNkNBREY7QUFFSkcsSUFBQUEsS0FBSyxFQUFFO0FBQ0VDLE1BQUFBLEdBQUcsRUFBRSxvQkFEUDtBQUVFSixNQUFBQSxJQUFJLEVBQUU7QUFGUjtBQUZIO0FBZFosQ0F2Q2MsQ0FBZixDLENBbUVBOztBQUNBTSxRQUFRLENBQUMsd0JBQUQsRUFBMkIsWUFBTTtBQUlyQyxNQUFJQyxnQkFBZ0IsR0FBR0MsSUFBSSxDQUFDQyxFQUFMLEVBQXZCO0FBQ0EsTUFBTUMsS0FBSyxHQUFHLHFCQUFRLGdDQUFDLDRCQUFEO0FBQWtCLElBQUEsT0FBTyxFQUFFYixNQUFNLENBQUMsQ0FBRCxDQUFqQztBQUFzQyxJQUFBLElBQUksRUFBRTtBQUE1QyxJQUFSLENBQWQ7QUFDQSxNQUFNYyxTQUFTLEdBQUcscUJBQVEsZ0NBQUMsNEJBQUQ7QUFBa0IsSUFBQSxPQUFPLEVBQUVkLE1BQU0sQ0FBQyxDQUFELENBQWpDO0FBQXNDLElBQUEsSUFBSSxFQUFFZSxJQUE1QztBQUFrRCxJQUFBLFVBQVUsRUFBRUw7QUFBOUQsSUFBUixDQUFsQjtBQUlBLE1BQUlNLE9BQU8sR0FBR0gsS0FBSyxDQUFDSSxJQUFOLENBQVcsR0FBWCxDQUFkO0FBRUEsTUFBSUMsVUFBVSxHQUFHTCxLQUFLLENBQUNJLElBQU4sQ0FBVyxHQUFYLENBQWpCO0FBQ0EsTUFBSUUsT0FBTyxHQUFHTixLQUFLLENBQUNJLElBQU4sQ0FBVyxJQUFYLENBQWQ7QUFDQSxNQUFJRyxNQUFNLEdBQUdQLEtBQUssQ0FBQ0ksSUFBTixDQUFXLEtBQVgsQ0FBYjtBQUVBSSxFQUFBQSxFQUFFLENBQUMsMkJBQUQsRUFBOEIsWUFBTTtBQUVsQztBQUNBQyxJQUFBQSxNQUFNLENBQUNULEtBQUssQ0FBQ1UsSUFBTixFQUFELENBQU4sQ0FBcUJDLE9BQXJCLENBQTZCLEtBQTdCO0FBR0gsR0FOQyxDQUFGO0FBUUFILEVBQUFBLEVBQUUsQ0FBQyxvQkFBRCxFQUF1QixZQUFNO0FBRTNCO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ1QsS0FBSyxDQUFDSSxJQUFOLENBQVcsc0JBQVgsRUFBbUNRLFFBQW5DLENBQTRDLGVBQTVDLENBQUQsQ0FBTixDQUFxRUMsSUFBckUsQ0FBMEUsSUFBMUU7QUFDQUosSUFBQUEsTUFBTSxDQUFDUixTQUFTLENBQUNHLElBQVYsQ0FBZSxzQkFBZixFQUF1Q1EsUUFBdkMsQ0FBZ0QsYUFBaEQsQ0FBRCxDQUFOLENBQXVFQyxJQUF2RSxDQUE0RSxJQUE1RTtBQUdILEdBUEMsQ0FBRjtBQVNBTCxFQUFBQSxFQUFFLENBQUMsaUNBQUQsRUFBb0MsWUFBTTtBQUV4QztBQUNBUCxJQUFBQSxTQUFTLENBQUNHLElBQVYsQ0FBZSxxQkFBZixFQUFzQ1UsUUFBdEMsQ0FBK0MsT0FBL0M7QUFFQUwsSUFBQUEsTUFBTSxDQUFDWixnQkFBRCxDQUFOLENBQXlCa0IsZ0JBQXpCO0FBR0gsR0FSQyxDQUFGO0FBVUFQLEVBQUFBLEVBQUUsQ0FBQyw2QkFBRCxFQUFnQyxZQUFNO0FBRXBDO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDYSxNQUFULENBQU4sQ0FBdUJMLE9BQXZCLENBQStCLENBQS9CO0FBR0gsR0FOQyxDQUFGO0FBUUFILEVBQUFBLEVBQUUsQ0FBQyxvQkFBRCxFQUF1QixZQUFNO0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDYyxHQUFSLENBQVksQ0FBWixFQUFlQyxLQUFmLENBQXFCM0IsSUFBdEIsQ0FBTixDQUFrQ29CLE9BQWxDLENBQTBDeEIsTUFBTSxDQUFDLENBQUQsQ0FBTixDQUFVSSxJQUFWLEdBQWlCLEdBQWpCLEdBQXVCSixNQUFNLENBQUMsQ0FBRCxDQUFOLENBQVVFLEdBQTNFO0FBR0gsR0FUQyxDQUFGO0FBV0FtQixFQUFBQSxFQUFFLENBQUMsc0JBQUQsRUFBeUIsWUFBTTtBQUc3QkMsSUFBQUEsTUFBTSxDQUFDTixPQUFPLENBQUNjLEdBQVIsQ0FBWSxDQUFaLEVBQWVDLEtBQWYsQ0FBcUIzQixJQUF0QixDQUFOLENBQWtDb0IsT0FBbEMsQ0FBMEN4QixNQUFNLENBQUMsQ0FBRCxDQUFOLENBQVVLLE1BQXBEO0FBR0gsR0FOQyxDQUFGO0FBUUFnQixFQUFBQSxFQUFFLENBQUMsb0JBQUQsRUFBdUIsWUFBTTtBQUczQkgsSUFBQUEsVUFBVSxDQUFDYyxPQUFYLENBQW1CLFVBQUNDLElBQUQsRUFBVTtBQUN6QkMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQUksQ0FBQ0csSUFBTCxFQUFaO0FBQ0QsS0FGSCxFQUgyQixDQU81Qjs7QUFDQUYsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlqQixVQUFVLENBQUNZLEdBQVgsQ0FBZSxDQUFmLEVBQWtCQyxLQUE5QixFQVI0QixDQVU1Qjs7QUFDQVQsSUFBQUEsTUFBTSxDQUFDSixVQUFVLENBQUNZLEdBQVgsQ0FBZSxDQUFmLEVBQWtCQyxLQUFsQixDQUF3Qk0sUUFBekIsQ0FBTixDQUF5Q2IsT0FBekMsQ0FBaUR4QixNQUFNLENBQUMsQ0FBRCxDQUFOLENBQVVzQyxLQUEzRDtBQUdGLEdBZEMsQ0FBRjtBQWdCQWpCLEVBQUFBLEVBQUUsQ0FBQyxvQkFBRCxFQUF1QixZQUFNO0FBRzNCSCxJQUFBQSxVQUFVLENBQUNjLE9BQVgsQ0FBbUIsVUFBQ0MsSUFBRCxFQUFVO0FBQ3pCQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsSUFBSSxDQUFDRyxJQUFMLEVBQVo7QUFDRCxLQUZILEVBSDJCLENBTzVCOztBQUNBRixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWpCLFVBQVUsQ0FBQ1ksR0FBWCxDQUFlLENBQWYsRUFBa0JDLEtBQTlCLEVBUjRCLENBVTVCOztBQUNBVCxJQUFBQSxNQUFNLENBQUNKLFVBQVUsQ0FBQ1ksR0FBWCxDQUFlLENBQWYsRUFBa0JDLEtBQWxCLENBQXdCTSxRQUF6QixDQUFOLENBQXlDYixPQUF6QyxDQUFpRHhCLE1BQU0sQ0FBQyxDQUFELENBQU4sQ0FBVUcsSUFBM0Q7QUFHRixHQWRDLENBQUY7QUFpQkFrQixFQUFBQSxFQUFFLENBQUMsb0JBQUQsRUFBdUIsWUFBTTtBQUk1QjtBQUNBYSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWpCLFVBQVUsQ0FBQ1ksR0FBWCxDQUFlLENBQWYsRUFBa0JDLEtBQTlCLEVBTDRCLENBTzVCOztBQUNBVCxJQUFBQSxNQUFNLENBQUNKLFVBQVUsQ0FBQ1ksR0FBWCxDQUFlLENBQWYsRUFBa0JDLEtBQWxCLENBQXdCTSxRQUF6QixDQUFOLENBQXlDYixPQUF6QyxDQUFpRHhCLE1BQU0sQ0FBQyxDQUFELENBQU4sQ0FBVVEsT0FBVixDQUFrQkwsSUFBbkU7QUFHRixHQVhDLENBQUY7QUFlQWtCLEVBQUFBLEVBQUUsQ0FBQyxxQkFBRCxFQUF3QixZQUFNO0FBRzVCO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ0gsT0FBTyxDQUFDb0IsT0FBUixDQUFnQixDQUFoQixFQUFtQkgsSUFBbkIsRUFBRCxDQUFOLENBQWtDWixPQUFsQyxDQUEwQ3hCLE1BQU0sQ0FBQyxDQUFELENBQU4sQ0FBVUMsS0FBcEQ7QUFHSCxHQVBDLENBQUY7QUFTQW9CLEVBQUFBLEVBQUUsQ0FBQyxpQ0FBRCxFQUFvQyxZQUFNO0FBR3hDO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDVSxHQUFQLENBQVcsQ0FBWCxFQUFjQyxLQUFkLENBQW9CUyxHQUFyQixDQUFOLENBQWdDaEIsT0FBaEMsQ0FBd0N4QixNQUFNLENBQUMsQ0FBRCxDQUFOLENBQVVNLEtBQVYsQ0FBZ0JILElBQXhEO0FBR0gsR0FQQyxDQUFGO0FBU0FrQixFQUFBQSxFQUFFLENBQUMsNEJBQUQsRUFBK0IsWUFBTTtBQUduQztBQUNBQyxJQUFBQSxNQUFNLENBQUNGLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLENBQVgsRUFBY0MsS0FBZCxDQUFvQnhCLEdBQXJCLENBQU4sQ0FBZ0NpQixPQUFoQyxDQUF3Q3hCLE1BQU0sQ0FBQyxDQUFELENBQU4sQ0FBVU0sS0FBVixDQUFnQkMsR0FBeEQ7QUFHSCxHQVBDLENBQUY7QUFVSCxDQWxKTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBZGFwdGVyIGZyb20gJ2VuenltZS1hZGFwdGVyLXJlYWN0LTE2JztcbmltcG9ydCB7IHNoYWxsb3csIG1vdW50LCByZW5kZXIgfSBmcm9tICdlbnp5bWUnO1xuaW1wb3J0IHsgY29uZmlndXJlIH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBFeGFtcGxlV29ya01vZGFsICBmcm9tICcuLi9qcy9leGFtcGxlLXdvcmstbW9kYWwnO1xuXG5cblxuY29uZmlndXJlKHsgYWRhcHRlcjogbmV3IEFkYXB0ZXIoKSB9KTtcblxuXG5jb25zdCBteVdvcmsgPSBbXG5cbiAgICB7XG4gICAgICAgICB0aXRsZTogXCJDb25maWd1cmF0aW9uIE1hbmFnZW1lbnRcIixcbiAgICAgICAgIGtleTogXCJjbVwiLFxuICAgICAgICAgZGVzYzogXCJDb25maWd1cmF0aW9uIE1hbmFnZW1lbnQgZXhhbXBsZXNcIixcbiAgICAgICAgIGhyZWY6IFwiLi4vY29kZXNhbXBsZS5odG1sXCIsXG4gICAgICAgICBnaXRodWI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2pjb29rMDUvYW5zaWJsZVwiLFxuICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICBkZXNjOiBcIkNvbmZpZ3VyYXRpb24gTWFuYWdlbWVudCBleGFtcGxlc1wiLCBcbiAgICAgICAgICAgICBzcmM6IFwiaW1hZ2VzL0lNR18wMTExLkpQR1wiXG4gICAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGRpYWdyYW06IHtcbiAgICAgICAgIGRlc2M6IFwiRElBR1JBTTpcIixcbiAgICAgICAgIGltYWdlOiBcIlwiICAgICBcbiBcbiAgICB9IFxuICAgfSxcbiAgIHtcbiAgICAgdGl0bGU6IFwiQ0lDRFwiLFxuICAgICBrZXk6IFwiY2ljZFwiLFxuICAgICBkZXNjOiBcIkNJQ0QgZXhhbXBsZSBjb2RlLCBKZW5raW5zIGJ1aWxkIGFuZCBkZXBsb3lcIixcbiAgICAgaHJlZjogXCIuLi9jb2Rlc2FtcGxlLmh0bWxcIixcbiAgICAgZ2l0aHViOiBcIi4uL2NvbWluZ3Nvb24uaHRtbFwiLFxuICAgICBpbWFnZToge1xuICAgICAgICAgZGVzYzogXCJDb250aW51b3VzIEludGVncmF0aW9uIENvbnRpbnVvdXMgRGVwbG95bWVudCBleGFtcGxlc1wiLCBcbiAgICAgICAgIHNyYzogXCJpbWFnZXMvSU1HXzAxMTcuSlBHXCJcbiAgICAgICAgXG4gICAgfSxcbiAgICBkaWFncmFtOiB7XG4gICAgIGRlc2M6IFwiRElBR1JBTTogIEplbmtpbnMgRG9ja2VyIEt1YmVybmV0ZXMgRGV2IEVudmlyb25tZW50XCIsXG4gICAgIGltYWdlOiB7XG4gICAgICAgICBzcmM6IFwiaW1hZ2VzL2plbmRrLmpwZ1wiLFxuICAgICAgICAgZGVzYzogXCJDSUNEIGV4YW1wbGUgY29kZSwgSmVua2lucyBidWlsZCBhbmQgZGVwbG95XCIgIFxuICAgICB9XG4gfSBcbiBcbiB9LFxuIHtcbiAgICAgdGl0bGU6IFwiRnJvbnQgRW5kXCIsXG4gICAgIGtleTogXCJmcm9udGVuZFwiLFxuICAgICBkZXNjOiBcIkhlcmUgYXJlIHNvbWUgZnJvbnQgZW5kIGRldmVsb3BtZW50IGV4YW1wbGVzLiAgSSBoYXZlIHNvbWUgZXhhbXBsZXMgaW4gcmVhY3QuanMgYXMgd2VsbCBhcyBzb21lIGV4YW1wbGVzIGluIHN0YW5kYXJkIGphdmFzY3JpcHQuICAgVGhpcyBwb3J0Zm9saW8gaXMgYWxzbyB3cml0dGVuIHByaW1hcmlseSBpbiBcXFxuICAgICByZWFjdC5qcyBsZXZlcmFnaW5nIHNldmVyYWwgcmVhY3QgY29tcG9uZW50cy4gIFR5cGljYWxseSBteSBmcm9udCBlbmQgZGV2ZWxvcG1lbnQgd291bGQgZm9jdXMgb24gaW50ZXJuYWwgdG9vbHMgdXNlZCBieSB0aGUgZGV2ZWxvcG1lbnQgdGVhbXMgZm9yIGluZnJhc3RydWN0dXJlIGFuZCBDSUNELiBZb3UgY2FuIHZpZXcgdGhlIFxcXG4gICAgIGJhc2ljIGV4YW1wbGVzIGluIHRoZSBDSEVDSyBJVCBPVVQgYW5kIEdJVCBIVUIgRVhBTVBMRVMgbGlua3MgYWJvdmUuXCIgICxcbiAgICAgaHJlZjogXCIuLi9jb2Rlc2FtcGxlLmh0bWxcIixcbiAgICAgZ2l0aHViOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9qY29vazA1L3NlcnZlcmxlc3Nwb3J0Zm9saW9cIixcbiAgICAgaW1hZ2U6IHtcbiAgICAgICAgIGRlc2M6IFwiRnJvbnQgRW5kIEV4YW1wbGUgQ29kZVwiLCBcbiAgICAgICAgIHNyYzogXCJpbWFnZXMvbWFybW90LkpQR1wiXG4gICAgICAgIFxuICAgIH0sIFxuICAgIFxuICAgIGRpYWdyYW06IHtcbiAgICAgICAgIGRlc2M6IFwiRElBR1JBTTogU2VydmVybGVzcyBDSUNEIGZvciB0aGlzIFBvcnRmb2xpb1wiLFxuICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgICAgIHNyYzogXCJpbWFnZXMvbmV3cG9ydC5qcGdcIixcbiAgICAgICAgICAgICAgICAgIGRlc2M6IFwiUG9ydGZvbGlvIENJQ0QgRGlhZ3JhbVwiXG4gICAgICAgICB9ICAgICBcbiBcbiAgICB9XG4gfVxuIFxuIFxuIFxuIF1cblxuLy8gZW5zdXJlIHZlcnNpb25zIG9mIGFkYXB0ZXIgbWF0Y2ggeW91ciByZWFjdC1kb20gYW5kIHJlYWN0LXRlc3QtcmVuZGVyZXIuICAgZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYgZm9yIHZlcnNpb24gMTYgb2YgcmVhY3QtZG9tIGFuZCB0ZXN0LXJlbmRlcmVyLlxuZGVzY3JpYmUoXCJFeGFtcGxlV29ya01vZGFsIHRlc3RzXCIsICgpID0+IHsgXG5cbiAgICBcblxuICAgIGxldCBtb2NrQ2xvc2VNb2RhbEZuID0gamVzdC5mbigpO1xuICAgIGNvbnN0IG1vZGFsID0gc2hhbGxvdyg8RXhhbXBsZVdvcmtNb2RhbCBleGFtcGxlPXtteVdvcmtbMV19IG9wZW49e2ZhbHNlfS8+KTtcbiAgICBjb25zdCBvcGVuTW9kYWwgPSBzaGFsbG93KDxFeGFtcGxlV29ya01vZGFsIGV4YW1wbGU9e215V29ya1sxXX0gb3Blbj17b3Blbn0gY2xvc2VNb2RhbD17bW9ja0Nsb3NlTW9kYWxGbn0vPik7XG4gICAgXG5cblxuICAgIGxldCBhbmNob3JzID0gbW9kYWwuZmluZChcImFcIilcblxuICAgIGxldCBwYXJhZ3JhcGhzID0gbW9kYWwuZmluZChcInBcIilcbiAgICBsZXQgaGVhZGVyMiA9IG1vZGFsLmZpbmQoXCJoMlwiKTtcbiAgICBsZXQgaW1hZ2VzID0gbW9kYWwuZmluZChcImltZ1wiKTtcblxuICAgIGl0KFwiU2hvdWxkIGJlIGEgJ2RpdicgZWxlbWVudFwiLCAoKSA9PiB7XG4gICAgICAgXG4gICAgICAgIC8vY29uc29sZS5sb2coZXdvcmsuZGVidWcoKSk7XG4gICAgICAgIGV4cGVjdChtb2RhbC50eXBlKCkpLnRvRXF1YWwoJ2RpdicpO1xuICAgICAgICBcblxuICAgIH0pO1xuXG4gICAgaXQoXCJvcGVuIHNldCBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgIFxuICAgICAgICAvL2NvbnNvbGUubG9nKGV3b3JrLmRlYnVnKCkpO1xuICAgICAgICBleHBlY3QobW9kYWwuZmluZChcIi5iYWNrZ3JvdW5kLS1za3lCbHVlXCIpLmhhc0NsYXNzKFwibW9kYWwtLWNsb3NlZFwiKSkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KG9wZW5Nb2RhbC5maW5kKFwiLmJhY2tncm91bmQtLXNreUJsdWVcIikuaGFzQ2xhc3MoXCJtb2RhbC0tb3BlblwiKSkudG9CZSh0cnVlKTtcbiAgICAgICAgXG5cbiAgICB9KTtcblxuICAgIGl0KFwiU2hvdWxkIGNhbGwgY2xvc2VNb2RhbCBvbiBjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgXG4gICAgICAgIC8vIHVzZWQganVzdCAxIGNsYXNzIGZyb20gY2xhc3NOYW1lPVwiY29sb3ItLWNsb3VkIG1vZGFsX19jbG9zZUJ1dHRvblwiXG4gICAgICAgIG9wZW5Nb2RhbC5maW5kKFwiLm1vZGFsX19jbG9zZUJ1dHRvblwiKS5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChtb2NrQ2xvc2VNb2RhbEZuKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICAgIFxuXG4gICAgfSk7XG5cbiAgICBpdChcIlNob3VsZCBjb250YWluIGFuIGEgZWxlbWVudFwiLCAoKSA9PiB7XG4gICAgICAgXG4gICAgICAgIC8vY29uc29sZS5sb2coZXdvcmsuZGVidWcoKSk7XG4gICAgICAgIGV4cGVjdChhbmNob3JzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgICAgXG5cbiAgICB9KTtcblxuICAgIGl0KFwiTGluayBzZXQgY29ycmVjdGx5XCIsICgpID0+IHtcbiAgICAgICBcbiAgICAgICAgLy9jb25zb2xlLmxvZyhld29yay5kZWJ1ZygpKTtcbiAgICAgICAgLy8gVGhpcyBpcyBkZXByZWNhdGVkIGFzIG5vZGUgaXMgbm93IGhpZGRlbiBieSBFbnp5bWVcbiAgICAgICAgLy9leHBlY3QoaW1hZ2VzLm5vZGUucHJvcHMuc3JjKS50b0VxdWFsKG15V29ya1swXS5pbWFnZS5zcmMpO1xuICAgICAgICAvLyB1c2UgZ2V0KCkgaW5zdGVhZCB0byBnZXQgYnkgaW5kZXhcbiAgICAgICAgZXhwZWN0KGFuY2hvcnMuZ2V0KDApLnByb3BzLmhyZWYpLnRvRXF1YWwobXlXb3JrWzFdLmhyZWYgKyBcIj9cIiArIG15V29ya1sxXS5rZXkpO1xuICAgICAgICBcblxuICAgIH0pO1xuXG4gICAgaXQoXCJHaXRodWIgc2V0IGNvcnJlY3RseVwiLCAoKSA9PiB7XG4gICAgICAgXG4gICAgICAgIFxuICAgICAgICBleHBlY3QoYW5jaG9ycy5nZXQoMSkucHJvcHMuaHJlZikudG9FcXVhbChteVdvcmtbMV0uZ2l0aHViKTtcbiAgICAgICAgXG5cbiAgICB9KTtcblxuICAgIGl0KFwiRGVzYyBzZXQgY29ycmVjdGx5XCIsICgpID0+IHtcbiAgICAgICBcbiAgICAgICBcbiAgICAgICAgcGFyYWdyYXBocy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhub2RlLnRleHQoKSlcbiAgICAgICAgICB9KTtcblxuICAgICAgIC8vIHZpZXcgcHJvcHNcbiAgICAgICBjb25zb2xlLmxvZyhwYXJhZ3JhcGhzLmdldCgwKS5wcm9wcylcblxuICAgICAgIC8vIHVzZWQgcHJvcHMuY2hpbGRyZW5cbiAgICAgICBleHBlY3QocGFyYWdyYXBocy5nZXQoMCkucHJvcHMuY2hpbGRyZW4pLnRvRXF1YWwobXlXb3JrWzFdLmdkZXNjKTtcbiAgICAgICAgXG5cbiAgICB9KTtcblxuICAgIGl0KFwiRGVzYyBzZXQgY29ycmVjdGx5XCIsICgpID0+IHtcbiAgICAgICBcbiAgICAgICBcbiAgICAgICAgcGFyYWdyYXBocy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhub2RlLnRleHQoKSlcbiAgICAgICAgICB9KTtcblxuICAgICAgIC8vIHZpZXcgcHJvcHNcbiAgICAgICBjb25zb2xlLmxvZyhwYXJhZ3JhcGhzLmdldCgwKS5wcm9wcylcblxuICAgICAgIC8vIHVzZWQgcHJvcHMuY2hpbGRyZW5cbiAgICAgICBleHBlY3QocGFyYWdyYXBocy5nZXQoMSkucHJvcHMuY2hpbGRyZW4pLnRvRXF1YWwobXlXb3JrWzFdLmRlc2MpO1xuICAgICAgICBcblxuICAgIH0pO1xuXG5cbiAgICBpdChcIkRlc2Mgc2V0IGNvcnJlY3RseVwiLCAoKSA9PiB7XG4gICAgICAgXG4gICAgICAgXG4gICAgICAgIFxuICAgICAgIC8vIHZpZXcgcHJvcHNcbiAgICAgICBjb25zb2xlLmxvZyhwYXJhZ3JhcGhzLmdldCgxKS5wcm9wcylcblxuICAgICAgIC8vIHVzZWQgcHJvcHMuY2hpbGRyZW5cbiAgICAgICBleHBlY3QocGFyYWdyYXBocy5nZXQoMikucHJvcHMuY2hpbGRyZW4pLnRvRXF1YWwobXlXb3JrWzFdLmRpYWdyYW0uZGVzYyk7XG4gICAgICAgIFxuXG4gICAgfSk7XG5cbiAgIFxuXG4gICAgaXQoXCJUaXRsZSBzZXQgY29ycmVjdGx5XCIsICgpID0+IHtcbiAgICAgICBcbiAgICAgICAgXG4gICAgICAgIC8vdXNlIGNoaWxkQXQgZm9yIHRleHQ7XG4gICAgICAgIGV4cGVjdChoZWFkZXIyLmNoaWxkQXQoMCkudGV4dCgpKS50b0VxdWFsKG15V29ya1sxXS50aXRsZSk7XG4gICAgICAgIFxuXG4gICAgfSk7XG5cbiAgICBpdChcIkltYWdlIERlc2NyaXB0aW9uIHNldCBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgIFxuICAgICAgICBcbiAgICAgICAgLy91c2UgY2hpbGRBdCBmb3IgdGV4dDtcbiAgICAgICAgZXhwZWN0KGltYWdlcy5nZXQoMCkucHJvcHMuYWx0KS50b0VxdWFsKG15V29ya1sxXS5pbWFnZS5kZXNjKTtcbiAgICAgICAgXG5cbiAgICB9KTtcblxuICAgIGl0KFwiSW1hZ2UgU291cmNlIHNldCBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgIFxuICAgICAgICBcbiAgICAgICAgLy91c2UgY2hpbGRBdCBmb3IgdGV4dDtcbiAgICAgICAgZXhwZWN0KGltYWdlcy5nZXQoMCkucHJvcHMuc3JjKS50b0VxdWFsKG15V29ya1sxXS5pbWFnZS5zcmMpO1xuICAgICAgICBcblxuICAgIH0pO1xuXG5cbn0pO1xuIl19